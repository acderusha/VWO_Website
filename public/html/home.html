<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Venice Without Obstacles</title>
    <link rel="stylesheet" type="text/css" href="css/home.css"/>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
          integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
          crossorigin=""/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
            integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
            crossorigin=""></script>
    <script src="js/home.js"></script>
</head>
<body style="padding-top: 50px">
    <div class="body">
        <div class="header" style="left: 0px">
            <div id="homeBtn" class="headerBtn headerLeft"><b>HOME</b></div>
            <div id="bridgeBtn" class="headerBtn headerLeft"><b>BRIDGES</b></div>
            <div id="projectLogo" class="headerBtn headerRight"><b>VENICE WITHOUT OBSTACLES</b></div>
        </div>
    </div>

    <table id="table" width="100% !important">
       <tr>
           <th class="filterSection" valign="top">
            <div id="filterBox" class="filterBox">
                <div style="color: lightgray; font-size: 20px; border-bottom: 1px lightgray solid; padding-bottom: 3px">
                    Filters
                </div>
                <div id="rampDiv" class="filterBoxItemClick" onclick="showRamp()">
                    Ramps<br>
                </div>
                <div id="perm" class="filterBoxItem">
                    <input id="rampPerCheck" type="checkbox" class="filterCheck" checked>
                    Permanent
                </div>
                <div id="temp" class="filterBoxItem">
                    <input id="rampTempCheck" type="checkbox" class="filterCheck" checked>
                    Temporary
                </div>
                <div id="ramp_none" class="filterBoxItem">
                    <input id="rampNoneCheck" type="checkbox" class="filterCheck" checked>
                    No Ramp
                </div>
                <div id="railDiv"class="filterBoxItemClick" onclick="showRail()">
                    Railing<br>
                </div>
                <div id="both" class="filterBoxItem">
                    <input id="railBothCheck" type="checkbox" class="filterCheck" checked>
                    Both Sides
                </div>
                <div id="one" class="filterBoxItem">
                    <input id="railOneCheck" type="checkbox" class="filterCheck" checked>
                    One Side
                </div>
                <div id="rail_none" class="filterBoxItem">
                    <input id="railNoneCheck" type="checkbox" class="filterCheck" checked>
                    No Railings
                </div>
                <div id="slipDiv" class="filterBoxItemClick" onclick="showSlip()">
                    Slip Stair Edging <br>
                </div>
                <div id="installSlip" class="filterBoxItem">
                    <input id="slipInstallCheck" type="checkbox" class="filterCheck" checked>
                    Installed Edging
                </div>
                <div id="noneSlip" class="filterBoxItem">
                    <input id="slipNoneCheck" type="checkbox" class="filterCheck" checked>
                    No Edging
                </div>
                <div id="openDiv" class="filterBoxItemClick" onclick="showOpen()">
                    Canal Opening<br>
                </div>
                <div id="openBoth" class="filterBoxItem">
                    <input id="openBothCheck" type="checkbox" class="filterCheck" checked>
                    Opening Both Sides
                </div>
                <div id="openOne" class="filterBoxItem">
                    <input id="openOneCheck" type="checkbox" class="filterCheck" checked>
                    Opening One Side
                </div>
                <div id="openNone" class="filterBoxItem">
                    <input id="openNoneCheck" type="checkbox" class="filterCheck" checked>
                    No Openings
                </div>
                <div id="tactDiv" class="filterBoxItemClick" onclick="showTact()">
                    Tactile Pavement<br>
                </div>
                <div id="installTact" class="filterBoxItem">
                    <input id="tactInstallCheck" type="checkbox" class="filterCheck" checked>
                    Installed Tactile
                </div>
                <div id="noneTact" class="filterBoxItem">
                    <input id="tactNoneCheck" type="checkbox" class="filterCheck" checked>
                    No Tactile
                </div>
                <div id="propDiv" class="filterBoxItemClick" onclick="showProp()">
                    Property<br>
                </div>
                <div id="pub" class="filterBoxItem">
                    <input id="pubCheck" type="checkbox" class="filterCheck" checked>
                    Public
                </div>
                <div id="priv" class="filterBoxItem">
                    <input id="privCheck" type="checkbox" class="filterCheck" checked>
                    Private
                </div>

                <script>
                    var rampPer = document.getElementById("perm");
                    var rampTemp = document.getElementById("temp");
                    var rampNone = document.getElementById("ramp_none");
                    var rampPerCheck = document.getElementById("rampPerCheck");
                    var rampTempCheck = document.getElementById("rampTempCheck");
                    var rampNoneCheck = document.getElementById("rampNoneCheck");

                    var railBoth = document.getElementById("both");
                    var railOne = document.getElementById("one");
                    var railNone = document.getElementById("rail_none");
                    var railBothCheck = document.getElementById("railBothCheck");
                    var railOneCheck = document.getElementById("railOneCheck");
                    var railNoneCheck = document.getElementById("railNoneCheck");

                    var slipInstall = document.getElementById("installSlip");
                    var slipNone = document.getElementById("noneSlip");
                    var slipInstallCheck = document.getElementById("slipInstallCheck");
                    var slipNoneCheck = document.getElementById("slipNoneCheck");

                    var openBoth = document.getElementById("openBoth");
                    var openOne = document.getElementById("openOne");
                    var openNone = document.getElementById("openNone");
                    var openBothCheck = document.getElementById("openBothCheck");
                    var openOneCheck = document.getElementById("openOneCheck");
                    var openNoneCheck = document.getElementById("openNoneCheck");

                    var tactInstall = document.getElementById("installTact");
                    var tactNone = document.getElementById("noneTact");
                    var tactInstallCheck = document.getElementById("tactInstallCheck");
                    var tactNoneCheck = document.getElementById("tactNoneCheck");

                    var pub = document.getElementById("pub");
                    var priv = document.getElementById("priv");
                    var pubCheck = document.getElementById("pubCheck");
                    var privCheck = document.getElementById("privCheck");


                    /* -------------------------- Filter Event Listeners ---------------------- */

                    var rampPerFilter = true;
                    var rampTempFilter = true;
                    var rampNoneFilter = true;
                    var railBothFilter = true;
                    var railOneFilter = true;
                    var railNoneFilter = true;
                    var slipInstallFilter = true;
                    var slipNoneFilter = true;
                    var openBothFilter = true;
                    var openOneFilter = true;
                    var openNoneFilter = true;
                    var tactInstallFilter = true;
                    var tactNoneFilter = true;
                    var publicFilter = true;
                    var privFilter = true;

                    rampPer.addEventListener("click", filterRampPer);
                    rampPerCheck.addEventListener("click", filterRampPer);

                    rampTemp.addEventListener("click", filterRampTemp);
                    rampTempCheck.addEventListener("click", filterRampTemp);

                    rampNone.addEventListener("click", filterRampNone);
                    rampNoneCheck.addEventListener("click", filterRampNone);

                    railBoth.addEventListener("click", filterRailBoth);
                    railBothCheck.addEventListener("click", filterRailBoth);

                    railOne.addEventListener("click", filterRailOne);
                    railOneCheck.addEventListener("click", filterRailOne);

                    railNone.addEventListener("click", filterRailNone);
                    railNoneCheck.addEventListener("click", filterRailNone);

                    slipInstall.addEventListener("click", filterSlipInstall);
                    slipInstallCheck.addEventListener("click", filterSlipInstall);

                    slipNone.addEventListener("click", filterSlipNone);
                    slipNoneCheck.addEventListener("click", filterSlipNone);

                    openBoth.addEventListener("click", filterOpenBoth);
                    openBothCheck.addEventListener("click", filterOpenBoth);

                    openOne.addEventListener("click", filterOpenOne);
                    openOneCheck.addEventListener("click", filterOpenOne);

                    openNone.addEventListener("click", filterOpenNone);
                    openNoneCheck.addEventListener("click", filterOpenNone);

                    tactInstall.addEventListener("click", filterTactInstall);
                    tactInstallCheck.addEventListener("click", filterTactInstall);

                    tactNone.addEventListener("click", filterTactNone);
                    tactNoneCheck.addEventListener("click", filterTactNone);

                    pub.addEventListener("click", filterPublic);
                    pubCheck.addEventListener("click", filterPublic);

                    priv.addEventListener("click", filterPrivate);
                    privCheck.addEventListener("click", filterPrivate);

                </script>
            </div>
           </th>
           <th id="mapSection" valign="top">
               <div align="left" class="searchBarContainer">
                   <input type="text"  class="searchBar" id="searchBar" placeholder="Search Bridge Name...">
                   <i id="mic" class="fa">&#xf130;</i>
               </div>
               <table id="mapDes" class="mapDescTable">
                   <tr>
                       <th width="100%" valign="top">
                           <div id="mapid"></div>
                       </th>
                       <th id="descBoxContainer">
                           <div id="descBox" class="descBox" >
                               <div style="width: 100%; height: 10px">
                                   <button id="close" class="closeBtn">&times;</button>
                               </div>
                               <script>
                                   var close = document.getElementById("close");
                                   var container = document.getElementById("descBoxContainer");
                                   close.addEventListener("click", function () {
                                       container.style.display = "none";
                                   });
                               </script>
                               <div style="color: lightgray; font-size: 24px; margin: 10px 0 0 25px">
                                   Bridge Description
                               </div>
                               <div class="descBoxItemMain">
                                   <i style="font-size:15px" class="fa">&#xf05a;</i>
                                   General Info
                               </div>
                               <div id="infoDiv" style="float: left"></div>
                               <div class="descBoxItemMain" style="margin-top: 20px">
                                   <i style="font-size:15px; color: lightgray" class="fa">&#xf193;</i>
                                   Accommodations
                               </div>
                               <div id="accomDiv" style="float: left"></div>
                               <div class="descBoxItemMain" style="margin-top: 20px">
                                   &#9888; Cautions
                               </div>
                               <div id="cautionDiv" style="float: left"></div>
                               <script>
                                   addDescription();
                               </script>
                           </div>
                       </th>
                   </tr>
               </table>
               <script>
                   var map = document.getElementById("mapid");
                   var mapColumn = document.getElementById("mapSection");

                   var width = mapColumn.getAttribute("width");
                   map.style.width = width;
               </script>
           </th>
       </tr>
    </table>
    <script>
        /* --------------------------------- Map Initialization  ------------------------------------ */
        var mymap = L.map('mapid').setView([45.437309, 12.335072], 14);
        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
            maxZoom: 18,
            subdomains: ['a','b','c','d'],
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1IjoidmVuaWNld2l0aG91dG9ic3RhY2xlcyIsImEiOiJjam55azU0MHgxNTR4M3BrYjh2NzV1d3lyIn0.6EVMzVUveIUc-0BJfMijJw'
        }).addTo(mymap);

        mymap.doubleClickZoom.disable();

        /*var popup = L.popup();

        function onMapClick(e) {
            popup
                .setLatLng(e.latlng)
                .setContent("You clicked the map at " + e.latlng.toString())
                .openOn(mymap);
        }
        mymap.on('click', onMapClick);*/

        var bridgeLayer = L.geoJson(bridges, {style: style, onEachFeature: onEachFeature});
        bridgeLayer.addTo(mymap);

        addMapElements();
    </script>

</body>
</html>